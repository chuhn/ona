From: Christopher Huhn <C.Huhn@gsi.de>
Date: Mon, 23 Nov 2015 11:23:37 +0100
Subject: Use system php-xajax package (version 0.5) and update function calls

---
 www/include/functions_gui.inc.php               | 36 ++++++++++++-------------
 www/include/functions_network_map.inc.php       |  2 +-
 www/include/xajax_setup.inc.php                 | 14 +++++-----
 www/winc/app_advanced_search.inc.php            |  2 +-
 www/winc/app_config_type_edit.inc.php           |  6 ++---
 www/winc/app_config_type_list.inc.php           |  8 +++---
 www/winc/app_custom_attribute_type_edit.inc.php |  6 ++---
 www/winc/app_custom_attribute_type_list.inc.php |  8 +++---
 www/winc/app_device_model_edit.inc.php          |  6 ++---
 www/winc/app_device_model_list.inc.php          |  8 +++---
 www/winc/app_device_role_edit.inc.php           |  6 ++---
 www/winc/app_device_role_list.inc.php           |  8 +++---
 www/winc/app_device_type_edit.inc.php           |  6 ++---
 www/winc/app_device_type_list.inc.php           |  8 +++---
 www/winc/app_dhcp_failover_list.inc.php         |  4 +--
 www/winc/app_dhcp_option_edit.inc.php           |  6 ++---
 www/winc/app_dhcp_option_list.inc.php           |  8 +++---
 www/winc/app_dhcp_servers_list.inc.php          |  4 +--
 www/winc/app_dns_view_edit.inc.php              |  6 ++---
 www/winc/app_dns_view_list.inc.php              |  8 +++---
 www/winc/app_domain_list.inc.php                |  4 +--
 www/winc/app_domain_servers_list.inc.php        |  4 +--
 www/winc/app_full_list.inc.php                  |  2 +-
 www/winc/app_group_edit.inc.php                 |  6 ++---
 www/winc/app_group_list.inc.php                 |  8 +++---
 www/winc/app_location_list.inc.php              |  8 +++---
 www/winc/app_manufacturer_edit.inc.php          |  6 ++---
 www/winc/app_manufacturer_list.inc.php          |  8 +++---
 www/winc/app_permission_editor.inc.php          |  6 ++---
 www/winc/app_plugin_list.inc.php                |  8 +++---
 www/winc/app_report_list.inc.php                |  4 +--
 www/winc/app_subnet_type_edit.inc.php           |  6 ++---
 www/winc/app_subnet_type_list.inc.php           |  8 +++---
 www/winc/app_sysconf_edit.inc.php               |  6 ++---
 www/winc/app_sysconf_list.inc.php               |  8 +++---
 www/winc/app_user_edit.inc.php                  |  6 ++---
 www/winc/app_user_info.inc.php                  |  2 +-
 www/winc/app_user_list.inc.php                  |  8 +++---
 www/winc/display_block.inc.php                  |  4 +--
 www/winc/display_block_map.inc.php              |  2 +-
 www/winc/display_config_text.inc.php            | 26 +++++++++---------
 www/winc/display_device.inc.php                 |  4 +--
 www/winc/display_dhcp_server.inc.php            |  6 ++---
 www/winc/display_domain.inc.php                 |  6 ++---
 www/winc/display_domain_server.inc.php          |  6 ++---
 www/winc/display_host.inc.php                   |  4 +--
 www/winc/display_interface.inc.php              |  4 +--
 www/winc/display_ona_db_logs.inc.php            |  2 +-
 www/winc/display_report.inc.php                 |  6 ++---
 www/winc/display_subnet.inc.php                 |  4 +--
 www/winc/display_vlan.inc.php                   |  4 +--
 www/winc/display_vlan_campus.inc.php            |  4 +--
 www/winc/edit_block.inc.php                     | 10 +++----
 www/winc/edit_custom_attribute.inc.php          | 10 +++----
 www/winc/edit_dhcp_failover_group.inc.php       | 10 +++----
 www/winc/edit_dhcp_option_entry.inc.php         | 10 +++----
 www/winc/edit_dhcp_pool.inc.php                 | 10 +++----
 www/winc/edit_dhcp_server.inc.php               | 10 +++----
 www/winc/edit_domain.inc.php                    | 10 +++----
 www/winc/edit_domain_server.inc.php             | 10 +++----
 www/winc/edit_host.inc.php                      | 12 ++++-----
 www/winc/edit_interface.inc.php                 | 10 +++----
 www/winc/edit_location.inc.php                  |  6 ++---
 www/winc/edit_record.inc.php                    | 18 ++++++-------
 www/winc/edit_subnet.inc.php                    | 10 +++----
 www/winc/edit_tag.inc.php                       |  8 +++---
 www/winc/edit_vlan.inc.php                      | 10 +++----
 www/winc/edit_vlan_campus.inc.php               | 10 +++----
 www/winc/ipcalcgui.inc.php                      |  2 +-
 www/winc/list_blocks.inc.php                    |  2 +-
 www/winc/list_configs.inc.php                   |  2 +-
 www/winc/list_dhcp_server.inc.php               |  2 +-
 www/winc/list_domain_server.inc.php             |  2 +-
 www/winc/list_hosts.inc.php                     |  2 +-
 www/winc/list_interfaces.inc.php                |  2 +-
 www/winc/list_ona_db_logs.inc.php               |  2 +-
 www/winc/list_records.inc.php                   |  2 +-
 www/winc/list_subnets.inc.php                   |  2 +-
 www/winc/list_vlan_campus.inc.php               |  2 +-
 www/winc/list_vlans.inc.php                     |  2 +-
 www/winc/menu_control.inc.php                   |  4 +--
 www/winc/process_alerts.inc.php                 |  2 +-
 www/winc/search_results.inc.php                 |  4 +--
 www/winc/search_results_qf.inc.php              | 12 ++++-----
 www/winc/tooltips.inc.php                       | 24 ++++++++---------
 www/winc/user_edit.inc.php                      |  8 +++---
 www/winc/user_list.inc.php                      | 10 +++----
 www/winc/work_space.inc.php                     |  2 +-
 88 files changed, 302 insertions(+), 302 deletions(-)

diff --git a/www/include/functions_gui.inc.php b/www/include/functions_gui.inc.php
index cd4f416..6b3844d 100644
--- a/www/include/functions_gui.inc.php
+++ b/www/include/functions_gui.inc.php
@@ -583,7 +583,7 @@ function suggest_qsearch($q, $el_input, $el_suggest) {
     $results = array();
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     if (!$q or !$el_input or !$el_suggest) { return($response->getXML()); }
     $js = "";
 
@@ -678,7 +678,7 @@ function suggest_a_record($q, $el_input, $el_suggest) {
     global $conf;
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     if (!$q or !$el_input or !$el_suggest) { return($response->getXML()); }
     $js = "";
 
@@ -715,7 +715,7 @@ function suggest_hostname($q, $el_input, $el_suggest) {
     global $conf;
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     if (!$q or !$el_input or !$el_suggest) { return($response->getXML()); }
     $js = "";
 
@@ -780,7 +780,7 @@ function suggest_server($q, $el_input, $el_suggest) {
     global $conf;
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     if (!$q or !$el_input or !$el_suggest) { return($response->getXML()); }
     $js = "";
 
@@ -829,7 +829,7 @@ function suggest_domain($q, $el_input, $el_suggest) {
     global $conf;
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     if (!$q or !$el_input or !$el_suggest) { return($response->getXML()); }
     $js = "";
 
@@ -882,7 +882,7 @@ function suggest_notes($q, $el_input, $el_suggest) {
     global $conf;
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     if (!$q or !$el_input or !$el_suggest) { return($response->getXML()); }
     $js = "";
 
@@ -920,7 +920,7 @@ function suggest_mac($q, $el_input, $el_suggest) {
     global $conf;
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     if (!$q or !$el_input or !$el_suggest) { return($response->getXML()); }
     $js = "";
 
@@ -961,7 +961,7 @@ function suggest_ip($q, $el_input, $el_suggest) {
     global $conf;
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     if (!$q or !$el_input or !$el_suggest) { return($response->getXML()); }
     $js = "";
 
@@ -1024,7 +1024,7 @@ function suggest_vlan_campus($q, $el_input, $el_suggest) {
     global $conf;
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     if (!$q or !$el_input or !$el_suggest) { return($response->getXML()); }
     $js = "";
 
@@ -1064,7 +1064,7 @@ function suggest_custom_attribute_type($q, $el_input, $el_suggest) {
     global $conf;
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     if (!$q or !$el_input or !$el_suggest) { return($response->getXML()); }
     $js = "";
 
@@ -1101,7 +1101,7 @@ function suggest_manufacturer($q, $el_input, $el_suggest) {
     global $conf;
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     if (!$q or !$el_input or !$el_suggest) { return($response->getXML()); }
     $js = "";
 
@@ -1135,7 +1135,7 @@ function suggest_model($q, $el_input, $el_suggest) {
     global $conf;
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     if (!$q or !$el_input or !$el_suggest) { return($response->getXML()); }
     $js = "";
 
@@ -1169,7 +1169,7 @@ function suggest_tag($q, $el_input, $el_suggest) {
     global $conf;
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     if (!$q or !$el_input or !$el_suggest) { return($response->getXML()); }
     $js = "";
 
@@ -1212,7 +1212,7 @@ function suggest_role($q, $el_input, $el_suggest) {
     global $conf;
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     if (!$q or !$el_input or !$el_suggest) { return($response->getXML()); }
     $js = "";
 
@@ -1246,7 +1246,7 @@ function suggest_block($q, $el_input, $el_suggest) {
     global $conf;
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     if (!$q or !$el_input or !$el_suggest) { return($response->getXML()); }
     $js = "";
 
@@ -1285,7 +1285,7 @@ function suggest_subnet($q, $el_input, $el_suggest) {
     global $conf;
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     if (!$q or !$el_input or !$el_suggest) { return($response->getXML()); }
     $js = "";
 
@@ -1333,7 +1333,7 @@ function suggest_masks_edit_subnet($q, $el_input, $el_suggest) {
     global $conf;
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     if (!$q or !$el_input or !$el_suggest) { return($response->getXML()); }
     $js = "";
 
@@ -1448,7 +1448,7 @@ function suggest_location($q, $el_input, $el_suggest) {
     global $conf;
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     if (!$q or !$el_input or !$el_suggest) { return($response->getXML()); }
     $js = "";
 
diff --git a/www/include/functions_network_map.inc.php b/www/include/functions_network_map.inc.php
index 290f5b3..0269636 100644
--- a/www/include/functions_network_map.inc.php
+++ b/www/include/functions_network_map.inc.php
@@ -221,7 +221,7 @@ function ws_draw_block($window_name, $form='') {
     $js = '';
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
 
     // If the user supplied an array in a string, build the array and store it in $form
     $form = parse_options_string($form);
diff --git a/www/include/xajax_setup.inc.php b/www/include/xajax_setup.inc.php
index 943373c..ec6a9d4 100644
--- a/www/include/xajax_setup.inc.php
+++ b/www/include/xajax_setup.inc.php
@@ -10,8 +10,8 @@
 // Load Xajax and create an xajax object
 
 // xajax 0.5.x formatting
-//require_once("{$include}/xajax/xajax_core/xajax.inc.php");
-//$xajaxProcReq='processRequest';
+require_once("/usr/share/php/xajax/xajax_core/legacy.inc.php");
+$xajaxProcReq='processRequest';
 
 
 
@@ -19,8 +19,8 @@
 
 
 // xajax 0.2.x formatting
-require_once("{$include}/xajax/xajax.inc.php");
-$xajaxProcReq='processRequests';
+//require_once("{$include}/xajax/xajax.inc.php");
+//$xajaxProcReq='processRequests';
 
 
 
@@ -30,7 +30,7 @@ $xajaxProcReq='processRequests';
 
 
 
-$xajax = new xajax();
+$xajax = new legacyXajax();
 
 
 
@@ -211,7 +211,7 @@ function ws_change_page($window_name, $form) {
     $form = parse_options_string($form);
     
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
     
     // Basically we're going to update the value of the input field called "page" 
@@ -283,7 +283,7 @@ function suggest_username($q, $el_input, $el_suggest) {
     global $conf;
     
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     if (!$q or !$el_input or !$el_suggest) { return($response->getXML()); }
     $js = "";
     
diff --git a/www/winc/app_advanced_search.inc.php b/www/winc/app_advanced_search.inc.php
index 689d58d..e6375c7 100644
--- a/www/winc/app_advanced_search.inc.php
+++ b/www/winc/app_advanced_search.inc.php
@@ -364,7 +364,7 @@ EOL;
     $js = "el('more_options_link').style.display = 'none';";
     
     // Insert the new html
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("more_host_options",  "innerHTML", $html);
     if ($js) { $response->addScript($js); }
     return($response->getXML());
diff --git a/www/winc/app_config_type_edit.inc.php b/www/winc/app_config_type_edit.inc.php
index 3732678..fa32a8a 100644
--- a/www/winc/app_config_type_edit.inc.php
+++ b/www/winc/app_config_type_edit.inc.php
@@ -18,7 +18,7 @@ function ws_editor($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -124,13 +124,13 @@ function ws_save($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
 
diff --git a/www/winc/app_config_type_list.inc.php b/www/winc/app_config_type_list.inc.php
index d2a5adc..c35dafc 100644
--- a/www/winc/app_config_type_list.inc.php
+++ b/www/winc/app_config_type_list.inc.php
@@ -125,7 +125,7 @@ function ws_display_list($window_name, $form) {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -252,7 +252,7 @@ EOL;
 
     // Insert the new table into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("{$form['form_id']}_configuration_type_count",  "innerHTML", "({$count})");
     $response->addAssign("{$form['content_id']}", "innerHTML", $html);
     // $response->addScript($js);
@@ -276,13 +276,13 @@ function ws_delete($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Load the record to make sure it exists
diff --git a/www/winc/app_custom_attribute_type_edit.inc.php b/www/winc/app_custom_attribute_type_edit.inc.php
index 75cce1b..7f5cdf7 100644
--- a/www/winc/app_custom_attribute_type_edit.inc.php
+++ b/www/winc/app_custom_attribute_type_edit.inc.php
@@ -18,7 +18,7 @@ function ws_editor($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -168,13 +168,13 @@ function ws_save($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
 
diff --git a/www/winc/app_custom_attribute_type_list.inc.php b/www/winc/app_custom_attribute_type_list.inc.php
index 105f640..4585aec 100644
--- a/www/winc/app_custom_attribute_type_list.inc.php
+++ b/www/winc/app_custom_attribute_type_list.inc.php
@@ -125,7 +125,7 @@ function ws_display_list($window_name, $form) {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -245,7 +245,7 @@ EOL;
 
     // Insert the new table into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("{$form['form_id']}_custom_attribute_type_count",  "innerHTML", "({$count})");
     $response->addAssign("{$form['content_id']}", "innerHTML", $html);
     // $response->addScript($js);
@@ -269,13 +269,13 @@ function ws_delete($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Load the record to make sure it exists
diff --git a/www/winc/app_device_model_edit.inc.php b/www/winc/app_device_model_edit.inc.php
index 23287f7..f5c4a41 100644
--- a/www/winc/app_device_model_edit.inc.php
+++ b/www/winc/app_device_model_edit.inc.php
@@ -18,7 +18,7 @@ function ws_editor($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -163,13 +163,13 @@ function ws_save($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // If you get a numeric in $form, update the record
diff --git a/www/winc/app_device_model_list.inc.php b/www/winc/app_device_model_list.inc.php
index 3ac6bcb..471df20 100644
--- a/www/winc/app_device_model_list.inc.php
+++ b/www/winc/app_device_model_list.inc.php
@@ -126,7 +126,7 @@ function ws_display_list($window_name, $form) {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -250,7 +250,7 @@ EOL;
 
     // Insert the new table into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("{$form['form_id']}_device_model_count",  "innerHTML", "({$count})");
     $response->addAssign("{$form['content_id']}", "innerHTML", $html);
     // $response->addScript($js);
@@ -274,13 +274,13 @@ function ws_delete($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Load the record to make sure it exists
diff --git a/www/winc/app_device_role_edit.inc.php b/www/winc/app_device_role_edit.inc.php
index 72157de..741817f 100644
--- a/www/winc/app_device_role_edit.inc.php
+++ b/www/winc/app_device_role_edit.inc.php
@@ -18,7 +18,7 @@ function ws_editor($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -126,13 +126,13 @@ function ws_save($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
 
diff --git a/www/winc/app_device_role_list.inc.php b/www/winc/app_device_role_list.inc.php
index d71c491..b5aee41 100644
--- a/www/winc/app_device_role_list.inc.php
+++ b/www/winc/app_device_role_list.inc.php
@@ -126,7 +126,7 @@ function ws_display_list($window_name, $form) {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -246,7 +246,7 @@ EOL;
 
     // Insert the new table into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("{$form['form_id']}_role_count",  "innerHTML", "({$count})");
     $response->addAssign("{$form['content_id']}", "innerHTML", $html);
     // $response->addScript($js);
@@ -270,13 +270,13 @@ function ws_delete($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Load the record to make sure it exists
diff --git a/www/winc/app_device_type_edit.inc.php b/www/winc/app_device_type_edit.inc.php
index 6334bb5..2c4b214 100644
--- a/www/winc/app_device_type_edit.inc.php
+++ b/www/winc/app_device_type_edit.inc.php
@@ -18,7 +18,7 @@ function ws_editor($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -150,13 +150,13 @@ function ws_save($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // If you get a numeric in $form, update the record
diff --git a/www/winc/app_device_type_list.inc.php b/www/winc/app_device_type_list.inc.php
index ab92d9b..9080213 100644
--- a/www/winc/app_device_type_list.inc.php
+++ b/www/winc/app_device_type_list.inc.php
@@ -126,7 +126,7 @@ function ws_display_list($window_name, $form) {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -253,7 +253,7 @@ EOL;
 
     // Insert the new table into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("{$form['form_id']}_device_type_count",  "innerHTML", "({$count})");
     $response->addAssign("{$form['content_id']}", "innerHTML", $html);
     // $response->addScript($js);
@@ -277,13 +277,13 @@ function ws_delete($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Load the record to make sure it exists
diff --git a/www/winc/app_dhcp_failover_list.inc.php b/www/winc/app_dhcp_failover_list.inc.php
index b94f3d1..7821eb7 100644
--- a/www/winc/app_dhcp_failover_list.inc.php
+++ b/www/winc/app_dhcp_failover_list.inc.php
@@ -128,7 +128,7 @@ function ws_display_list($window_name, $form) {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -257,7 +257,7 @@ EOL;
 
     // Insert the new table into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("{$form['form_id']}_dhcp_failover_count",  "innerHTML", "({$count})");
     $response->addAssign("{$form['content_id']}", "innerHTML", $html);
     // $response->addScript($js);
diff --git a/www/winc/app_dhcp_option_edit.inc.php b/www/winc/app_dhcp_option_edit.inc.php
index eccab1a..c6dd15b 100644
--- a/www/winc/app_dhcp_option_edit.inc.php
+++ b/www/winc/app_dhcp_option_edit.inc.php
@@ -18,7 +18,7 @@ function ws_editor($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -181,13 +181,13 @@ function ws_save($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // If you get a numeric in $form, update the record
diff --git a/www/winc/app_dhcp_option_list.inc.php b/www/winc/app_dhcp_option_list.inc.php
index f5d73ae..cbf77af 100644
--- a/www/winc/app_dhcp_option_list.inc.php
+++ b/www/winc/app_dhcp_option_list.inc.php
@@ -126,7 +126,7 @@ function ws_display_list($window_name, $form) {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -274,7 +274,7 @@ EOL;
 
     // Insert the new table into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("{$form['form_id']}_dhcp_option_count",  "innerHTML", "({$count})");
     $response->addAssign("{$form['content_id']}", "innerHTML", $html);
     // $response->addScript($js);
@@ -298,13 +298,13 @@ function ws_delete($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Load the record to make sure it exists
diff --git a/www/winc/app_dhcp_servers_list.inc.php b/www/winc/app_dhcp_servers_list.inc.php
index 6d3c4f0..16596ba 100644
--- a/www/winc/app_dhcp_servers_list.inc.php
+++ b/www/winc/app_dhcp_servers_list.inc.php
@@ -128,7 +128,7 @@ function ws_display_list($window_name, $form) {
     
     // Check permissions
 //     if (!auth('advanced')) {
-//         $response = new xajaxResponse();
+//         $response = new legacyXajaxResponse();
 //         $response->addScript("alert('Permission denied!');");
 //         return($response->getXML());
 //     }
@@ -255,7 +255,7 @@ EOL;
     
     // Insert the new table into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("{$form['form_id']}_domain_count",  "innerHTML", "({$count})");
     $response->addAssign("{$form['content_id']}", "innerHTML", $html);
     // $response->addScript($js);
diff --git a/www/winc/app_dns_view_edit.inc.php b/www/winc/app_dns_view_edit.inc.php
index cc32aa2..3c25ded 100644
--- a/www/winc/app_dns_view_edit.inc.php
+++ b/www/winc/app_dns_view_edit.inc.php
@@ -18,7 +18,7 @@ function ws_editor($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -139,13 +139,13 @@ function ws_save($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
 
diff --git a/www/winc/app_dns_view_list.inc.php b/www/winc/app_dns_view_list.inc.php
index 4d5199f..bfed12a 100644
--- a/www/winc/app_dns_view_list.inc.php
+++ b/www/winc/app_dns_view_list.inc.php
@@ -125,7 +125,7 @@ function ws_display_list($window_name, $form) {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -270,7 +270,7 @@ EOL;
 
     // Insert the new table into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("{$form['form_id']}_dns_view_count",  "innerHTML", "({$count})");
     $response->addAssign("{$form['content_id']}", "innerHTML", $html);
     // $response->addScript($js);
@@ -294,13 +294,13 @@ function ws_delete($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Don't allow them to delete the default
diff --git a/www/winc/app_domain_list.inc.php b/www/winc/app_domain_list.inc.php
index 6f6c87b..cbfcc90 100644
--- a/www/winc/app_domain_list.inc.php
+++ b/www/winc/app_domain_list.inc.php
@@ -128,7 +128,7 @@ function ws_display_list($window_name, $form) {
     
     // Check permissions
 //     if (!auth('advanced')) {
-//         $response = new xajaxResponse();
+//         $response = new legacyXajaxResponse();
 //         $response->addScript("alert('Permission denied!');");
 //         return($response->getXML());
 //     }
@@ -296,7 +296,7 @@ EOL;
     
     // Insert the new table into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("{$form['form_id']}_domain_count",  "innerHTML", "({$count})");
     $response->addAssign("{$form['content_id']}", "innerHTML", $html);
     // $response->addScript($js);
diff --git a/www/winc/app_domain_servers_list.inc.php b/www/winc/app_domain_servers_list.inc.php
index ced4c0f..d0c92cf 100644
--- a/www/winc/app_domain_servers_list.inc.php
+++ b/www/winc/app_domain_servers_list.inc.php
@@ -128,7 +128,7 @@ function ws_display_list($window_name, $form) {
     
     // Check permissions
 //     if (!auth('advanced')) {
-//         $response = new xajaxResponse();
+//         $response = new legacyXajaxResponse();
 //         $response->addScript("alert('Permission denied!');");
 //         return($response->getXML());
 //     }
@@ -266,7 +266,7 @@ EOL;
     
     // Insert the new table into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("{$form['form_id']}_domain_count",  "innerHTML", "({$count})");
     $response->addAssign("{$form['content_id']}", "innerHTML", $html);
     // $response->addScript($js);
diff --git a/www/winc/app_full_list.inc.php b/www/winc/app_full_list.inc.php
index 471bf35..894f6ea 100644
--- a/www/winc/app_full_list.inc.php
+++ b/www/winc/app_full_list.inc.php
@@ -458,7 +458,7 @@ EOL;
     
     // Insert the new html into the content div specified
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("{$form['form_id']}_{$tab}_count",  "innerHTML", "({$count})");
     $response->addAssign($form['content_id'], "innerHTML", $html);
     if ($js) { $response->addScript($js); }
diff --git a/www/winc/app_group_edit.inc.php b/www/winc/app_group_edit.inc.php
index 0e33f79..5953a71 100644
--- a/www/winc/app_group_edit.inc.php
+++ b/www/winc/app_group_edit.inc.php
@@ -18,7 +18,7 @@ function ws_editor($window_name, $form='') {
 
     // Check permissions
     if (!auth('user_admin')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -137,13 +137,13 @@ function ws_save($window_name, $form='') {
 
     // Check permissions
     if (!auth('user_admin')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Validate input
diff --git a/www/winc/app_group_list.inc.php b/www/winc/app_group_list.inc.php
index 4d7b09c..e9f60d5 100644
--- a/www/winc/app_group_list.inc.php
+++ b/www/winc/app_group_list.inc.php
@@ -127,7 +127,7 @@ function ws_display_list($window_name, $form) {
 
     // Check permissions
     if (!auth('user_admin')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -248,7 +248,7 @@ EOL;
 
     // Insert the new table into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("{$form['form_id']}_groups_count",  "innerHTML", "({$count})");
     $response->addAssign("{$form['content_id']}", "innerHTML", $html);
     // $response->addScript($js);
@@ -272,13 +272,13 @@ function ws_delete($window_name, $form='') {
 
     // Check permissions
     if (!auth('user_admin')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Load the group record to make sure it exists
diff --git a/www/winc/app_location_list.inc.php b/www/winc/app_location_list.inc.php
index a5d2a1e..f8998c5 100644
--- a/www/winc/app_location_list.inc.php
+++ b/www/winc/app_location_list.inc.php
@@ -128,7 +128,7 @@ function ws_display_list($window_name, $form) {
 
     // Check permissions
     if (!auth('location_add')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -259,7 +259,7 @@ EOL;
 
     // Insert the new table into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("{$form['form_id']}_locations_count",  "innerHTML", "({$count})");
     $response->addAssign("{$form['content_id']}", "innerHTML", $html);
     $response->addScript($js);
@@ -283,7 +283,7 @@ function ws_delete($window_name, $form='') {
 
     // Check permissions
     if (!auth('location_del')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -292,7 +292,7 @@ function ws_delete($window_name, $form='') {
     $form = parse_options_string($form);
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Get a list of devices that use this device type
diff --git a/www/winc/app_manufacturer_edit.inc.php b/www/winc/app_manufacturer_edit.inc.php
index 87085b4..19ad134 100644
--- a/www/winc/app_manufacturer_edit.inc.php
+++ b/www/winc/app_manufacturer_edit.inc.php
@@ -18,7 +18,7 @@ function ws_editor($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -124,13 +124,13 @@ function ws_save($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
         
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
 
diff --git a/www/winc/app_manufacturer_list.inc.php b/www/winc/app_manufacturer_list.inc.php
index bb5f247..8145d0b 100644
--- a/www/winc/app_manufacturer_list.inc.php
+++ b/www/winc/app_manufacturer_list.inc.php
@@ -125,7 +125,7 @@ function ws_display_list($window_name, $form) {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -245,7 +245,7 @@ EOL;
 
     // Insert the new table into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("{$form['form_id']}_manufacturer_count",  "innerHTML", "({$count})");
     $response->addAssign("{$form['content_id']}", "innerHTML", $html);
     // $response->addScript($js);
@@ -269,13 +269,13 @@ function ws_delete($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Load the record to make sure it exists
diff --git a/www/winc/app_permission_editor.inc.php b/www/winc/app_permission_editor.inc.php
index 1d7b235..b37a2eb 100644
--- a/www/winc/app_permission_editor.inc.php
+++ b/www/winc/app_permission_editor.inc.php
@@ -20,7 +20,7 @@ function ws_editor($window_name, $form='') {
 
     // Check permissions
     if (!auth('user_admin')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -144,13 +144,13 @@ function ws_save($window_name, $form='') {
 
     // Check permissions
     if (!auth('user_admin')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
     $exit_status = 0;
 
diff --git a/www/winc/app_plugin_list.inc.php b/www/winc/app_plugin_list.inc.php
index 22bde31..f1a7bd9 100644
--- a/www/winc/app_plugin_list.inc.php
+++ b/www/winc/app_plugin_list.inc.php
@@ -127,7 +127,7 @@ function ws_display_list($window_name, $form) {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -301,7 +301,7 @@ EOL;
 
     // Insert the new table into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("{$form['form_id']}_plugins_count",  "innerHTML", "({$count})");
     $response->addAssign("{$form['content_id']}", "innerHTML", $html);
     $response->addScript($js);
@@ -330,7 +330,7 @@ function ws_toggleenable($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -339,7 +339,7 @@ function ws_toggleenable($window_name, $form='') {
     $form = parse_options_string($form);
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = "xajax_window_submit('app_plugin_list', xajax.getFormValues('app_plugin_list_filter_form'), 'display_list');";
 
     if (is_writable($form['path'])) {
diff --git a/www/winc/app_report_list.inc.php b/www/winc/app_report_list.inc.php
index 3bf5b89..4529f41 100644
--- a/www/winc/app_report_list.inc.php
+++ b/www/winc/app_report_list.inc.php
@@ -127,7 +127,7 @@ function ws_display_list($window_name, $form) {
 
     // Check permissions
     if (!auth('user_admin')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -232,7 +232,7 @@ EOL;
 
     // Insert the new table into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("{$form['form_id']}_reports_count",  "innerHTML", "({$count})");
     $response->addAssign("{$form['content_id']}", "innerHTML", $html);
     // $response->addScript($js);
diff --git a/www/winc/app_subnet_type_edit.inc.php b/www/winc/app_subnet_type_edit.inc.php
index 2985ec7..aebff08 100644
--- a/www/winc/app_subnet_type_edit.inc.php
+++ b/www/winc/app_subnet_type_edit.inc.php
@@ -18,7 +18,7 @@ function ws_editor($window_name, $form='') {
     
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -149,13 +149,13 @@ function ws_save($window_name, $form='') {
     
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
     
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
     
     // Validate Input
diff --git a/www/winc/app_subnet_type_list.inc.php b/www/winc/app_subnet_type_list.inc.php
index 49ea02e..5c46d8b 100644
--- a/www/winc/app_subnet_type_list.inc.php
+++ b/www/winc/app_subnet_type_list.inc.php
@@ -126,7 +126,7 @@ function ws_display_list($window_name, $form) {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -252,7 +252,7 @@ EOL;
 
     // Insert the new table into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("{$form['form_id']}_subnet_type_count",  "innerHTML", "({$count})");
     $response->addAssign("{$form['content_id']}", "innerHTML", $html);
     // $response->addScript($js);
@@ -276,13 +276,13 @@ function ws_delete($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Load the record to make sure it exists
diff --git a/www/winc/app_sysconf_edit.inc.php b/www/winc/app_sysconf_edit.inc.php
index bd2d084..fd7418e 100644
--- a/www/winc/app_sysconf_edit.inc.php
+++ b/www/winc/app_sysconf_edit.inc.php
@@ -18,7 +18,7 @@ function ws_editor($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -170,13 +170,13 @@ function ws_save($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
 
diff --git a/www/winc/app_sysconf_list.inc.php b/www/winc/app_sysconf_list.inc.php
index d8f4b73..01e013f 100644
--- a/www/winc/app_sysconf_list.inc.php
+++ b/www/winc/app_sysconf_list.inc.php
@@ -126,7 +126,7 @@ function ws_display_list($window_name, $form) {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -269,7 +269,7 @@ EOL;
 
     // Insert the new table into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("{$form['form_id']}_sysconf_count",  "innerHTML", "({$count})");
     $response->addAssign("{$form['content_id']}", "innerHTML", $html);
     // $response->addScript($js);
@@ -293,13 +293,13 @@ function ws_delete($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Load the record to make sure it exists
diff --git a/www/winc/app_user_edit.inc.php b/www/winc/app_user_edit.inc.php
index c723dde..b1964fb 100644
--- a/www/winc/app_user_edit.inc.php
+++ b/www/winc/app_user_edit.inc.php
@@ -18,7 +18,7 @@ function ws_editor($window_name, $form='') {
 
     // Check permissions
     if (!auth('user_admin')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -167,13 +167,13 @@ function ws_save($window_name, $form='') {
 
     // Check permissions
     if (!auth('user_admin')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
     $exit_status = 0;
 
diff --git a/www/winc/app_user_info.inc.php b/www/winc/app_user_info.inc.php
index 2a10ce9..1623176 100644
--- a/www/winc/app_user_info.inc.php
+++ b/www/winc/app_user_info.inc.php
@@ -225,7 +225,7 @@ function ws_change_user_password($window_name, $form) {
 
     $username = $_SESSION['ona']['auth']['user']['username'];
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = "el('passchangemsg').innerHTML = '<span style=\"color: green;\">Changed!</span>'";
     $exit_status = 0;
 
diff --git a/www/winc/app_user_list.inc.php b/www/winc/app_user_list.inc.php
index 8e5e5be..67c490c 100644
--- a/www/winc/app_user_list.inc.php
+++ b/www/winc/app_user_list.inc.php
@@ -128,7 +128,7 @@ function ws_display_list($window_name, $form) {
 
     // Check permissions
     if (!auth('user_admin')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -244,7 +244,7 @@ EOL;
 
     // Insert the new table into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("{$form['form_id']}_users_count",  "innerHTML", "({$count})");
     $response->addAssign("{$form['content_id']}", "innerHTML", $html);
     // $response->addScript($js);
@@ -268,13 +268,13 @@ function ws_delete($window_name, $form='') {
 
     // Check permissions
     if (!auth('user_admin')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Load the user record to make sure it exists
diff --git a/www/winc/display_block.inc.php b/www/winc/display_block.inc.php
index cf79594..c81067e 100644
--- a/www/winc/display_block.inc.php
+++ b/www/winc/display_block.inc.php
@@ -24,7 +24,7 @@ function ws_display($window_name, $form='') {
     if ($status or !$rows) {
         array_pop($_SESSION['ona']['work_space']['history']);
         $html .= "<br><center><font color=\"red\"><b>Block doesn't exist!</b></font></center>";
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addAssign("work_space_content", "innerHTML", $html);
         return($response->getXML());
     }
@@ -314,7 +314,7 @@ EOL;
 
     // Insert the new html into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     // GDO need to use Big Int JS
     $response->addIncludeScript('include/js/bignumber.js');
     $response->addAssign("work_space_content", "innerHTML", $html);
diff --git a/www/winc/display_block_map.inc.php b/www/winc/display_block_map.inc.php
index b4665f0..b0c95f9 100644
--- a/www/winc/display_block_map.inc.php
+++ b/www/winc/display_block_map.inc.php
@@ -106,7 +106,7 @@ EOL;
 
     // Insert the new html into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     // GDO need to use Big Int JS
     $response->addIncludeScript('include/js/bignumber.js');
     $response->addAssign("work_space_content", "innerHTML", $html);
diff --git a/www/winc/display_config_text.inc.php b/www/winc/display_config_text.inc.php
index bb82580..5e04459 100644
--- a/www/winc/display_config_text.inc.php
+++ b/www/winc/display_config_text.inc.php
@@ -28,7 +28,7 @@ function ws_display($window_name, $form='') {
     if (!auth('host_config_admin',$debug_val)) {
         array_pop($_SESSION['ona']['work_space']['history']);
         $html .= "<br><center><font color=\"red\"><b>You don't have access to this page</b></font></center>";
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addAssign("work_space_content", "innerHTML", $html);
         return($response->getXML());
     }
@@ -46,7 +46,7 @@ function ws_display($window_name, $form='') {
     if (!$host['id']) {
         array_pop($_SESSION['ona']['work_space']['history']);
         $html .= "<br><center><font color=\"red\"><b>Host doesn't exist!</b></font></center>";
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addAssign("work_space_content", "innerHTML", $html);
         return($response->getXML());
     }
@@ -430,7 +430,7 @@ EOL;
 
     // Insert the new html into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("work_space_content", "innerHTML", $html);
     if ($js) { $response->addScript($js); }
     return($response->getXML());
@@ -460,7 +460,7 @@ function ws_delete_config($window_name, $form='') {
     if (!$config['id']) {
         array_pop($_SESSION['ona']['work_space']['history']);
         $html .= "<br><center><font color=\"red\"><b>Configuration text record doesn't exist!</b></font></center>";
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addAssign("work_space_content", "innerHTML", $html);
         return($response->getXML());
     }
@@ -470,14 +470,14 @@ function ws_delete_config($window_name, $form='') {
     if (!$host['id']) {
         array_pop($_SESSION['ona']['work_space']['history']);
         $html .= "<br><center><font color=\"red\"><b>Host doesn't exist!</b></font></center>";
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addAssign("work_space_content", "innerHTML", $html);
         return($response->getXML());
     }
 
     // Check permissions
     if (! (auth('host_config_admin') and authlvl($host['lvl'])) ) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -488,7 +488,7 @@ function ws_delete_config($window_name, $form='') {
 
     list($status, $rows) = db_delete_records($onadb, 'configurations', array('id' => $config['id']));
     if ($status or !$rows) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Delete failed!');");
         return($response->getXML());
     }
@@ -496,7 +496,7 @@ function ws_delete_config($window_name, $form='') {
 
     // Insert the new html into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     if ($form['js']) { $response->addScript($form['js']); }
     return($response->getXML());
 }
@@ -533,14 +533,14 @@ function ws_delete_configs($window_name, $form='') {
     if (!$host['id']) {
         array_pop($_SESSION['ona']['work_space']['history']);
         $html .= "<br><center><font color=\"red\"><b>Host doesn't exist!</b></font></center>";
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addAssign("work_space_content", "innerHTML", $html);
         return($response->getXML());
     }
 
     // Check permissions
     if (! (auth('host_config_admin') and authlvl($host['lvl'])) ) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -548,7 +548,7 @@ function ws_delete_configs($window_name, $form='') {
     // Load the config type
     list($status, $rows, $type) = ona_get_config_type_record(array('id' => $form['type_id']));
     if ($status or !$rows) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('ERROR => Invalid config type!');");
         return($response->getXML());
     }
@@ -558,14 +558,14 @@ function ws_delete_configs($window_name, $form='') {
     // FIXME, this should probably use a module, but there isn't one!
     list($status, $rows) = db_delete_records($onadb, 'configurations', array('host_id' => $host['id'], 'configuration_type_id' => $type['id']));
     if ($status or !$rows) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Delete failed!');");
         return($response->getXML());
     }
 
     // Insert the new html into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     if ($form['js']) { $response->addScript($form['js']); }
     return($response->getXML());
 }
diff --git a/www/winc/display_device.inc.php b/www/winc/display_device.inc.php
index 436a5c7..c73d8dc 100644
--- a/www/winc/display_device.inc.php
+++ b/www/winc/display_device.inc.php
@@ -27,7 +27,7 @@ function ws_display($window_name, $form='') {
     if ($status or !$rows) {
         array_pop($_SESSION['ona']['work_space']['history']);
         $html .= "<br><center><font color=\"red\"><b>Device doesn't exist!</b></font></center>";
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addAssign("work_space_content", "innerHTML", $html);
         return($response->getXML());
     }
@@ -278,7 +278,7 @@ EOL;
 
     // Insert the new html into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("work_space_content", "innerHTML", $html);
     if ($js) { $response->addScript($js); }
     return($response->getXML());
diff --git a/www/winc/display_dhcp_server.inc.php b/www/winc/display_dhcp_server.inc.php
index 600e2e3..f02cf8a 100644
--- a/www/winc/display_dhcp_server.inc.php
+++ b/www/winc/display_dhcp_server.inc.php
@@ -23,7 +23,7 @@ function ws_display($window_name, $form='') {
     if ($status or !$rows) {
         array_pop($_SESSION['ona']['work_space']['history']);
         $html .= "<br><center><font color=\"red\"><b>Server doesn't exist!</b></font></center>";
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addAssign("work_space_content", "innerHTML", $html);
         return($response->getXML());
     }
@@ -291,7 +291,7 @@ EOL;
 
     // Insert the new html into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("work_space_content", "innerHTML", $html);
     if ($js) { $response->addScript($js); }
     return($response->getXML());
@@ -344,7 +344,7 @@ function ws_display_config($window_name, $form='') {
 
     // Insert the new html into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("confoutput", "innerHTML", $html);
     if ($js) { $response->addScript($js); }
     return($response->getXML());
diff --git a/www/winc/display_domain.inc.php b/www/winc/display_domain.inc.php
index 6ca8e8e..2aa5477 100644
--- a/www/winc/display_domain.inc.php
+++ b/www/winc/display_domain.inc.php
@@ -23,7 +23,7 @@ function ws_display($window_name, $form='') {
     if ($status or !$rows) {
         array_pop($_SESSION['ona']['work_space']['history']);
         $html .= "<br><center><font color=\"red\"><b>Domain doesn't exist!</b></font></center>";
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addAssign("work_space_content", "innerHTML", $html);
         return($response->getXML());
     }
@@ -471,7 +471,7 @@ EOL;
 
     // Insert the new html into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("work_space_content", "innerHTML", $html);
     if ($js) { $response->addScript($js); }
     return($response->getXML());
@@ -516,7 +516,7 @@ function ws_display_config($window_name, $form='') {
 
     // Insert the new html into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("confoutput", "innerHTML", $html);
     if ($js) { $response->addScript($js); }
     return($response->getXML());
diff --git a/www/winc/display_domain_server.inc.php b/www/winc/display_domain_server.inc.php
index 5031237..06b3db6 100644
--- a/www/winc/display_domain_server.inc.php
+++ b/www/winc/display_domain_server.inc.php
@@ -23,7 +23,7 @@ function ws_display($window_name, $form='') {
     if ($status or !$rows) {
         array_pop($_SESSION['ona']['work_space']['history']);
         $html .= "<br><center><font color=\"red\"><b>Server doesn't exist!</b></font></center>";
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addAssign("work_space_content", "innerHTML", $html);
         return($response->getXML());
     }
@@ -268,7 +268,7 @@ EOL;
 
     // Insert the new html into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("work_space_content", "innerHTML", $html);
     if ($js) { $response->addScript($js); }
     return($response->getXML());
@@ -315,7 +315,7 @@ function ws_display_config($window_name, $form='') {
 
     // Insert the new html into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("confoutput", "innerHTML", $html);
     if ($js) { $response->addScript($js); }
     return($response->getXML());
diff --git a/www/winc/display_host.inc.php b/www/winc/display_host.inc.php
index b0b30f1..387dad5 100644
--- a/www/winc/display_host.inc.php
+++ b/www/winc/display_host.inc.php
@@ -27,7 +27,7 @@ function ws_display($window_name, $form='') {
     if ($status or !$rows) {
         array_pop($_SESSION['ona']['work_space']['history']);
         $html .= "<br><center><font color=\"red\"><b>Host doesn't exist!</b></font></center>";
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addAssign("work_space_content", "innerHTML", $html);
         return($response->getXML());
     }
@@ -353,7 +353,7 @@ EOL;
 
     // Insert the new html into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("work_space_content", "innerHTML", $html);
     if ($js) { $response->addScript($js); }
     return($response->getXML());
diff --git a/www/winc/display_interface.inc.php b/www/winc/display_interface.inc.php
index 8d85e06..3c06b3e 100644
--- a/www/winc/display_interface.inc.php
+++ b/www/winc/display_interface.inc.php
@@ -28,7 +28,7 @@ function ws_display($window_name, $form='') {
     if ($status or !$rows) {
         array_pop($_SESSION['ona']['work_space']['history']);
         $html .= "<br><center><font color=\"red\"><b>Interface doesn't exist!</b></font></center>";
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addAssign("work_space_content", "innerHTML", $html);
         return($response->getXML());
     }
@@ -272,7 +272,7 @@ EOL;
 
     // Insert the new html into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("work_space_content", "innerHTML", $html);
     if ($js) { $response->addScript($js); }
     return($response->getXML());
diff --git a/www/winc/display_ona_db_logs.inc.php b/www/winc/display_ona_db_logs.inc.php
index 6727fbc..b61a4a7 100644
--- a/www/winc/display_ona_db_logs.inc.php
+++ b/www/winc/display_ona_db_logs.inc.php
@@ -166,7 +166,7 @@ EOL;
 
     // Insert the new html into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("work_space_content", "innerHTML", $html);
     if ($js) { $response->addScript($js); }
     return($response->getXML());
diff --git a/www/winc/display_report.inc.php b/www/winc/display_report.inc.php
index 78eefef..247243b 100644
--- a/www/winc/display_report.inc.php
+++ b/www/winc/display_report.inc.php
@@ -31,7 +31,7 @@ function ws_display($window_name, $form='') {
     if (!@include_once($rpt_inc_path)) {
         array_pop($_SESSION['ona']['work_space']['history']);
         $html .= "<br><center><font color=\"red\"><b>The report {$form['report']} doesn't exist!</b></font></center>";
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addAssign("work_space_content", "innerHTML", $html);
         return($response->getXML());
     }
@@ -68,7 +68,7 @@ EOL;
 
     // Insert the new html into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("work_space_content", "innerHTML", $html);
     if ($js) { $response->addScript($js); }
     if ($rpt_js) { $response->addScript($rpt_js); }
@@ -101,7 +101,7 @@ function ws_run_report($window_name, $form='') {
 
     // Insert the new html into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("report_content", "innerHTML", $report_output);
     if ($js) { $response->addScript($js); }
     return($response->getXML());
diff --git a/www/winc/display_subnet.inc.php b/www/winc/display_subnet.inc.php
index 50161ad..1aaf3e6 100644
--- a/www/winc/display_subnet.inc.php
+++ b/www/winc/display_subnet.inc.php
@@ -30,7 +30,7 @@ function ws_display($window_name, $form='') {
     if ($status or !$rows) {
         array_pop($_SESSION['ona']['work_space']['history']);
         $html .= "<br><center><font color=\"red\"><b>Subnet doesn't exist!</b></font></center>";
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addAssign("work_space_content", "innerHTML", $html);
         return($response->getXML());
     }
@@ -331,7 +331,7 @@ EOL;
 
     // Insert the new html into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("work_space_content", "innerHTML", $html);
     if ($js) { $response->addScript($js); }
     return($response->getXML());
diff --git a/www/winc/display_vlan.inc.php b/www/winc/display_vlan.inc.php
index 04f4672..5f79fc0 100644
--- a/www/winc/display_vlan.inc.php
+++ b/www/winc/display_vlan.inc.php
@@ -23,7 +23,7 @@ function ws_display($window_name, $form='') {
     if ($status or !$rows) {
         array_pop($_SESSION['ona']['work_space']['history']);
         $html .= "<br><center><font color=\"red\"><b>VLAN doesn't exist!</b></font></center>";
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addAssign("work_space_content", "innerHTML", $html);
         return($response->getXML());
     }
@@ -233,7 +233,7 @@ EOL;
 
     // Insert the new html into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("work_space_content", "innerHTML", $html);
     if ($js) { $response->addScript($js); }
     return($response->getXML());
diff --git a/www/winc/display_vlan_campus.inc.php b/www/winc/display_vlan_campus.inc.php
index d0c36be..c9bce07 100644
--- a/www/winc/display_vlan_campus.inc.php
+++ b/www/winc/display_vlan_campus.inc.php
@@ -27,7 +27,7 @@ function ws_display($window_name, $form='') {
     if ($status or !$rows) {
         array_pop($_SESSION['ona']['work_space']['history']);
         $html .= "<br><center><font color=\"red\"><b>VLAN campus doesn't exist!</b></font></center>";
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addAssign("work_space_content", "innerHTML", $html);
         return($response->getXML());
     }
@@ -256,7 +256,7 @@ EOL;
 
     // Insert the new html into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("work_space_content", "innerHTML", $html);
     if ($js) { $response->addScript($js); }
     return($response->getXML());
diff --git a/www/winc/edit_block.inc.php b/www/winc/edit_block.inc.php
index d3f82ed..7a9a9c1 100644
--- a/www/winc/edit_block.inc.php
+++ b/www/winc/edit_block.inc.php
@@ -17,7 +17,7 @@ function ws_editor($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -175,13 +175,13 @@ function ws_save($window_name, $form='') {
 
     // Check permissions
     if (! (auth('advanced')) ) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Validate input
@@ -238,7 +238,7 @@ function ws_delete($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -247,7 +247,7 @@ function ws_delete($window_name, $form='') {
     $form = parse_options_string($form);
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Run the module
diff --git a/www/winc/edit_custom_attribute.inc.php b/www/winc/edit_custom_attribute.inc.php
index 96bac7f..b172a46 100644
--- a/www/winc/edit_custom_attribute.inc.php
+++ b/www/winc/edit_custom_attribute.inc.php
@@ -17,7 +17,7 @@ function ws_editor($window_name, $form='') {
 
     // Check permissions
     if (!auth('custom_attribute_del')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -196,13 +196,13 @@ function ws_save($window_name, $form='') {
 
     // Check permissions
     if (!auth('custom_attribute_add')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Validate input
@@ -260,7 +260,7 @@ function ws_delete($window_name, $form='') {
 
     // Check permissions
     if (!auth('custom_attribute_del')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -269,7 +269,7 @@ function ws_delete($window_name, $form='') {
     $form = parse_options_string($form);
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
    // if ($form['host'])       {$kind = 'host';   $kindval = $form['host'];}
diff --git a/www/winc/edit_dhcp_failover_group.inc.php b/www/winc/edit_dhcp_failover_group.inc.php
index 3dfd6fa..c528a91 100644
--- a/www/winc/edit_dhcp_failover_group.inc.php
+++ b/www/winc/edit_dhcp_failover_group.inc.php
@@ -17,7 +17,7 @@ function ws_editor($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -287,13 +287,13 @@ function ws_save($window_name, $form='') {
 
     // Check permissions (there is no interface_add, it's merged with host_add)
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Validate input
@@ -355,7 +355,7 @@ function ws_delete($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -364,7 +364,7 @@ function ws_delete($window_name, $form='') {
     $form = parse_options_string($form);
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Run the module
diff --git a/www/winc/edit_dhcp_option_entry.inc.php b/www/winc/edit_dhcp_option_entry.inc.php
index fe1739d..ba9226d 100644
--- a/www/winc/edit_dhcp_option_entry.inc.php
+++ b/www/winc/edit_dhcp_option_entry.inc.php
@@ -17,7 +17,7 @@ function ws_editor($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -211,13 +211,13 @@ function ws_save($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Validate input
@@ -275,7 +275,7 @@ function ws_delete($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -284,7 +284,7 @@ function ws_delete($window_name, $form='') {
     $form = parse_options_string($form);
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Run the module
diff --git a/www/winc/edit_dhcp_pool.inc.php b/www/winc/edit_dhcp_pool.inc.php
index 4e31f0d..cf961a3 100644
--- a/www/winc/edit_dhcp_pool.inc.php
+++ b/www/winc/edit_dhcp_pool.inc.php
@@ -17,7 +17,7 @@ function ws_editor($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -323,13 +323,13 @@ function ws_save($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Validate input
@@ -402,7 +402,7 @@ function ws_delete($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -411,7 +411,7 @@ function ws_delete($window_name, $form='') {
     $form = parse_options_string($form);
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Run the module
diff --git a/www/winc/edit_dhcp_server.inc.php b/www/winc/edit_dhcp_server.inc.php
index 2c44486..52a9622 100644
--- a/www/winc/edit_dhcp_server.inc.php
+++ b/www/winc/edit_dhcp_server.inc.php
@@ -27,7 +27,7 @@ function ws_editor($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -181,7 +181,7 @@ function ws_save($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -190,7 +190,7 @@ function ws_save($window_name, $form='') {
     $form = parse_options_string($form);
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Validate input
@@ -246,7 +246,7 @@ function ws_delete($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -255,7 +255,7 @@ function ws_delete($window_name, $form='') {
     $form = parse_options_string($form);
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Run the module
diff --git a/www/winc/edit_domain.inc.php b/www/winc/edit_domain.inc.php
index 5607b6e..0d61af9 100644
--- a/www/winc/edit_domain.inc.php
+++ b/www/winc/edit_domain.inc.php
@@ -17,7 +17,7 @@ function ws_editor($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -279,13 +279,13 @@ function ws_save($window_name, $form='') {
 
     // Check permissions (there is no interface_add, it's merged with host_add)
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Validate input
@@ -362,7 +362,7 @@ function ws_delete($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -371,7 +371,7 @@ function ws_delete($window_name, $form='') {
     $form = parse_options_string($form);
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Run the module
diff --git a/www/winc/edit_domain_server.inc.php b/www/winc/edit_domain_server.inc.php
index a926c8e..27aeee2 100644
--- a/www/winc/edit_domain_server.inc.php
+++ b/www/winc/edit_domain_server.inc.php
@@ -27,7 +27,7 @@ function ws_editor($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -188,7 +188,7 @@ function ws_save($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -197,7 +197,7 @@ function ws_save($window_name, $form='') {
     $form = parse_options_string($form);
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Validate input
@@ -247,7 +247,7 @@ function ws_delete($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -256,7 +256,7 @@ function ws_delete($window_name, $form='') {
     $form = parse_options_string($form);
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Run the module
diff --git a/www/winc/edit_host.inc.php b/www/winc/edit_host.inc.php
index d8e9f7f..585f646 100644
--- a/www/winc/edit_host.inc.php
+++ b/www/winc/edit_host.inc.php
@@ -27,7 +27,7 @@ function ws_editor($window_name, $form='') {
 
     // Check permissions
     if (! (auth('host_modify') or auth('host_add')) ) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -506,13 +506,13 @@ function ws_save($window_name, $form='') {
 
     // Check permissions
     if (! (auth('host_modify') or auth('host_add')) ) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
     // Validate input
     if ($form['set_type'] == '' or
@@ -564,7 +564,7 @@ function ws_save($window_name, $form='') {
         $module = 'add';
 
         if (!auth('host_add')) {
-            $response = new xajaxResponse();
+            $response = new legacyXajaxResponse();
             $response->addScript("alert('Permission denied!');");
             return($response->getXML());
         }
@@ -663,7 +663,7 @@ function ws_delete($window_name, $form='') {
 
     // Check permissions
     if (!auth('host_del')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -672,7 +672,7 @@ function ws_delete($window_name, $form='') {
     $form = parse_options_string($form);
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Run the module
diff --git a/www/winc/edit_interface.inc.php b/www/winc/edit_interface.inc.php
index de6b7de..ed14477 100644
--- a/www/winc/edit_interface.inc.php
+++ b/www/winc/edit_interface.inc.php
@@ -27,7 +27,7 @@ function ws_editor($window_name, $form='') {
 
     // Check permissions
     if (!auth('interface_modify')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -398,14 +398,14 @@ function ws_save($window_name, $form='') {
 
     // Check permissions (there is no interface_add, it's merged with host_add)
     if (! (auth('interface_modify') and auth('host_add')) ) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
     // If an array in a string was provided, build the array and store it in $form
     $form = parse_options_string($form);
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Validate input
@@ -504,7 +504,7 @@ function ws_delete($window_name, $form='') {
 
     // Check permissions
     if (!auth('interface_del')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -513,7 +513,7 @@ function ws_delete($window_name, $form='') {
     $form = parse_options_string($form);
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Run the module
diff --git a/www/winc/edit_location.inc.php b/www/winc/edit_location.inc.php
index c7a9fd9..ed075af 100644
--- a/www/winc/edit_location.inc.php
+++ b/www/winc/edit_location.inc.php
@@ -17,7 +17,7 @@ function ws_editor($window_name, $form='') {
 
     // Check permissions
     if (!auth('location_add')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -188,7 +188,7 @@ function ws_save($window_name, $form='') {
 
     // Check permissions
     if (! (auth('location_add')) ) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -197,7 +197,7 @@ function ws_save($window_name, $form='') {
     $form = parse_options_string($form);
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Validate input
diff --git a/www/winc/edit_record.inc.php b/www/winc/edit_record.inc.php
index 38a9ff3..020ad38 100644
--- a/www/winc/edit_record.inc.php
+++ b/www/winc/edit_record.inc.php
@@ -29,7 +29,7 @@ function ws_editor($window_name, $form='') {
 
     // Check permissions
     if (! (auth('dns_record_modify') and auth('dns_record_add')) ) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -678,13 +678,13 @@ function ws_save($window_name, $form='') {
 
     // Check permissions
     if (! (auth('dns_record_modify') and auth('dns_record_add')) ) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
 
@@ -813,7 +813,7 @@ function ws_delete($window_name, $form='') {
 
     // Check permissions
     if (!auth('dns_record_del')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -822,7 +822,7 @@ function ws_delete($window_name, $form='') {
     $form = parse_options_string($form);
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Run the module
@@ -864,7 +864,7 @@ function ws_makeprimary($window_name, $form='') {
 
     // Check permissions
     if (!auth('dns_record_modify')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -873,7 +873,7 @@ function ws_makeprimary($window_name, $form='') {
     $form = parse_options_string($form);
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     $SET = array();
@@ -914,7 +914,7 @@ function ws_enablerecord($window_name, $form='') {
 
     // Check permissions
     if (!auth('dns_record_modify')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Failed to enable record: Permission denied!');");
         return($response->getXML());
     }
@@ -923,7 +923,7 @@ function ws_enablerecord($window_name, $form='') {
     $form = parse_options_string($form);
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     $SET = array();
diff --git a/www/winc/edit_subnet.inc.php b/www/winc/edit_subnet.inc.php
index 0af8db8..1935ff8 100644
--- a/www/winc/edit_subnet.inc.php
+++ b/www/winc/edit_subnet.inc.php
@@ -17,7 +17,7 @@ function ws_editor($window_name, $form='') {
 
     // Check permissions
     if (! (auth('subnet_modify') and auth('subnet_add')) ) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -284,13 +284,13 @@ function ws_save($window_name, $form='') {
 
     // Check permissions
     if (! (auth('subnet_modify') and auth('subnet_add')) ) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Validate input
@@ -390,7 +390,7 @@ function ws_delete($window_name, $form='') {
 
     // Check permissions
     if (!auth('subnet_del')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -399,7 +399,7 @@ function ws_delete($window_name, $form='') {
     $form = parse_options_string($form);
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Run the module
diff --git a/www/winc/edit_tag.inc.php b/www/winc/edit_tag.inc.php
index b22c591..b3c2a7c 100644
--- a/www/winc/edit_tag.inc.php
+++ b/www/winc/edit_tag.inc.php
@@ -13,7 +13,7 @@ function ws_save($window_name, $form='') {
 
     // Check permissions
     if (! (auth('host_add') or auth('subnet_add'))) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -22,7 +22,7 @@ function ws_save($window_name, $form='') {
     $form = parse_options_string($form);
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Run the module
@@ -57,7 +57,7 @@ function ws_delete($window_name, $form='') {
 
     // Check permissions
     if (! (auth('host_del') or auth('subnet_del'))) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -66,7 +66,7 @@ function ws_delete($window_name, $form='') {
     $form = parse_options_string($form);
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Run the module
diff --git a/www/winc/edit_vlan.inc.php b/www/winc/edit_vlan.inc.php
index 7bd0be3..6a2add8 100644
--- a/www/winc/edit_vlan.inc.php
+++ b/www/winc/edit_vlan.inc.php
@@ -17,7 +17,7 @@ function ws_editor($window_name, $form='') {
 
     // Check permissions
     if (!auth('vlan_add')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -198,13 +198,13 @@ function ws_save($window_name, $form='') {
 
     // Check permissions
     if (! (auth('advanced')) ) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Validate input
@@ -274,7 +274,7 @@ function ws_delete($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -283,7 +283,7 @@ function ws_delete($window_name, $form='') {
     $form = parse_options_string($form);
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Run the module
diff --git a/www/winc/edit_vlan_campus.inc.php b/www/winc/edit_vlan_campus.inc.php
index 72ae737..7708e1e 100644
--- a/www/winc/edit_vlan_campus.inc.php
+++ b/www/winc/edit_vlan_campus.inc.php
@@ -17,7 +17,7 @@ function ws_editor($window_name, $form='') {
 
     // Check permissions
     if (!auth('vlan_add')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -125,13 +125,13 @@ function ws_save($window_name, $form='') {
 
     // Check permissions
     if (! (auth('advanced')) ) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Validate input
@@ -193,7 +193,7 @@ function ws_delete($window_name, $form='') {
 
     // Check permissions
     if (!auth('advanced')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -202,7 +202,7 @@ function ws_delete($window_name, $form='') {
     $form = parse_options_string($form);
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Run the module
diff --git a/www/winc/ipcalcgui.inc.php b/www/winc/ipcalcgui.inc.php
index 9cfbc21..c0a91d4 100644
--- a/www/winc/ipcalcgui.inc.php
+++ b/www/winc/ipcalcgui.inc.php
@@ -63,7 +63,7 @@ EOL;
 
 
 
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign('ipcalc_data', "innerHTML", $text);
     return($response->getXML());
 }
diff --git a/www/winc/list_blocks.inc.php b/www/winc/list_blocks.inc.php
index 07e0614..3bb48f8 100644
--- a/www/winc/list_blocks.inc.php
+++ b/www/winc/list_blocks.inc.php
@@ -216,7 +216,7 @@ EOL;
 
     // Insert the new html into the content div specified
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("{$form['form_id']}_{$tab}_count",  "innerHTML", "({$count})");
     $response->addAssign($form['content_id'], "innerHTML", $html);
     if ($js) { $response->addScript($js); }
diff --git a/www/winc/list_configs.inc.php b/www/winc/list_configs.inc.php
index 79721b6..f5fbf53 100644
--- a/www/winc/list_configs.inc.php
+++ b/www/winc/list_configs.inc.php
@@ -209,7 +209,7 @@ EOL;
 
     // Insert the new html into the content div specified
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("{$form['form_id']}_{$tab}_count",  "innerHTML", "({$count})");
     $response->addAssign($form['content_id'], "innerHTML", $html);
     if ($js) { $response->addScript($js); }
diff --git a/www/winc/list_dhcp_server.inc.php b/www/winc/list_dhcp_server.inc.php
index 36c0a49..43f3e64 100644
--- a/www/winc/list_dhcp_server.inc.php
+++ b/www/winc/list_dhcp_server.inc.php
@@ -233,7 +233,7 @@ EOL;
 
     // Insert the new html into the content div specified
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("{$form['form_id']}_{$tab}_count",  "innerHTML", "({$count})");
     $response->addAssign($form['content_id'], "innerHTML", $html);
     if ($js) { $response->addScript($js); }
diff --git a/www/winc/list_domain_server.inc.php b/www/winc/list_domain_server.inc.php
index 06b40f2..d739eba 100644
--- a/www/winc/list_domain_server.inc.php
+++ b/www/winc/list_domain_server.inc.php
@@ -182,7 +182,7 @@ EOL;
 
     // Insert the new html into the content div specified
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("{$form['form_id']}_{$tab}_count",  "innerHTML", "({$count})");
     $response->addAssign($form['content_id'], "innerHTML", $html);
     if ($js) { $response->addScript($js); }
diff --git a/www/winc/list_hosts.inc.php b/www/winc/list_hosts.inc.php
index 33f2672..c245745 100644
--- a/www/winc/list_hosts.inc.php
+++ b/www/winc/list_hosts.inc.php
@@ -663,7 +663,7 @@ EOL;
 
     // Insert the new html into the content div specified
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("{$form['form_id']}_{$tab}_count",  "innerHTML", "({$count})");
     $response->addAssign($form['content_id'], "innerHTML", $html);
     if ($js) { $response->addScript($js); }
diff --git a/www/winc/list_interfaces.inc.php b/www/winc/list_interfaces.inc.php
index 8c3ba49..91901f6 100644
--- a/www/winc/list_interfaces.inc.php
+++ b/www/winc/list_interfaces.inc.php
@@ -305,7 +305,7 @@ EOL;
 
     // Insert the new html into the content div specified
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("{$form['form_id']}_{$tab}_count",  "innerHTML", "({$count})");
     $response->addAssign($form['content_id'], "innerHTML", $html);
     if ($js) { $response->addScript($js); }
diff --git a/www/winc/list_ona_db_logs.inc.php b/www/winc/list_ona_db_logs.inc.php
index fa77976..53b9a5c 100644
--- a/www/winc/list_ona_db_logs.inc.php
+++ b/www/winc/list_ona_db_logs.inc.php
@@ -170,7 +170,7 @@ EOL;
 
     // Insert the new html into the content div specified
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("{$form['form_id']}_{$tab}_count",  "innerHTML", "({$count})");
     $response->addAssign($form['content_id'], "innerHTML", $html);
     if ($js) { $response->addScript($js); }
diff --git a/www/winc/list_records.inc.php b/www/winc/list_records.inc.php
index 9f4d646..36b418f 100644
--- a/www/winc/list_records.inc.php
+++ b/www/winc/list_records.inc.php
@@ -627,7 +627,7 @@ EOL;
 
     // Insert the new html into the content div specified
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("{$form['form_id']}_{$tab}_count",  "innerHTML", "({$count})");
     $response->addAssign($form['content_id'], "innerHTML", $html);
     if ($js) { $response->addScript($js); }
diff --git a/www/winc/list_subnets.inc.php b/www/winc/list_subnets.inc.php
index f4308de..aaf4944 100644
--- a/www/winc/list_subnets.inc.php
+++ b/www/winc/list_subnets.inc.php
@@ -308,7 +308,7 @@ EOL;
 
     // Insert the new html into the content div specified
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("{$form['form_id']}_{$tab}_count",  "innerHTML", "({$count})");
     $response->addAssign($form['content_id'], "innerHTML", $html);
     if ($js) { $response->addScript($js); }
diff --git a/www/winc/list_vlan_campus.inc.php b/www/winc/list_vlan_campus.inc.php
index 23d8124..aa663cb 100644
--- a/www/winc/list_vlan_campus.inc.php
+++ b/www/winc/list_vlan_campus.inc.php
@@ -198,7 +198,7 @@ EOL;
 
     // Insert the new html into the content div specified
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("{$form['form_id']}_{$tab}_count",  "innerHTML", "({$count})");
     $response->addAssign($form['content_id'], "innerHTML", $html);
     if ($js) { $response->addScript($js); }
diff --git a/www/winc/list_vlans.inc.php b/www/winc/list_vlans.inc.php
index ad18c88..9bd080e 100644
--- a/www/winc/list_vlans.inc.php
+++ b/www/winc/list_vlans.inc.php
@@ -185,7 +185,7 @@ EOL;
 
     // Insert the new html into the content div specified
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("{$form['form_id']}_{$tab}_count",  "innerHTML", "({$count})");
     $response->addAssign($form['content_id'], "innerHTML", $html);
     if ($js) { $response->addScript($js); }
diff --git a/www/winc/menu_control.inc.php b/www/winc/menu_control.inc.php
index 4d75d31..e677273 100644
--- a/www/winc/menu_control.inc.php
+++ b/www/winc/menu_control.inc.php
@@ -57,7 +57,7 @@ EOL;
 
 
 
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign('menu_bar_top', "innerHTML", $html);
     $response->addScript($js);
     // used to let menus pass in javascript
@@ -94,7 +94,7 @@ function ws_menu($window_name, $form='') {
     //   2. Update it's content
     //   3. Reposition it
     //   4. Unhide it
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     if ($html) {
         $response->addScript("el('{$form['id']}').style.visibility = 'hidden';");
         $response->addAssign($form['id'], "innerHTML", $html);
diff --git a/www/winc/process_alerts.inc.php b/www/winc/process_alerts.inc.php
index 902cb9f..379aafa 100644
--- a/www/winc/process_alerts.inc.php
+++ b/www/winc/process_alerts.inc.php
@@ -34,7 +34,7 @@ function ws_process_alerts_submit($window_name, $form='') {
 
 
 
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     if ($js) { $response->addScript($js); }
     return($response->getXML());
 }
diff --git a/www/winc/search_results.inc.php b/www/winc/search_results.inc.php
index 826c2f8..993eaee 100644
--- a/www/winc/search_results.inc.php
+++ b/www/winc/search_results.inc.php
@@ -744,7 +744,7 @@ function qsearch_command($q) {
     $js = "";
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
 
     // bz: FIXME!! Most of these should be moved to a user preferences application
 
@@ -814,7 +814,7 @@ function ws_change_tab($window_name, $form, $display_list=1, $return_text=0) {
     $tab = $form['tab'];
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Save the new tab in the session
diff --git a/www/winc/search_results_qf.inc.php b/www/winc/search_results_qf.inc.php
index 6933e5f..1445eb1 100644
--- a/www/winc/search_results_qf.inc.php
+++ b/www/winc/search_results_qf.inc.php
@@ -169,7 +169,7 @@ if ($count == 1) {
 }
     // Insert the new html into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign($form['content_id'], "innerHTML", $html);
     if ($js) { $response->addScript($js); }
     return($response->getXML());
@@ -224,7 +224,7 @@ function ws_free_ip($window_name, $form='') {
     list($status, $rows, $subnet) = ona_get_subnet_record(array('id' => $form['subnet_id']));
     if ($status or !$rows) {
         // Send a javascript popup error
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('ERROR => Invalid subnet selected!');");
         return($response->getXML());
     }
@@ -334,7 +334,7 @@ EOL;
 
     // Insert the new html into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign($form['content_id'], "innerHTML", $html);
     if ($js) { $response->addScript($js); }
     return($response->getXML());
@@ -509,7 +509,7 @@ EOL;
 
     // Insert the new html into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign($form['content_id'], "innerHTML", $html);
     if ($js) { $response->addScript($js); }
     return($response->getXML());
@@ -562,7 +562,7 @@ function ws_vlan($window_name, $form='') {
     list($status, $rows, $campus) = ona_get_vlan_campus_record(array('name' => $form['campus']));
     if ($status or !$rows) {
         // Send a javascript popup error
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('ERROR => Invalid VLAN campus!');");
         return($response->getXML());
     }
@@ -635,7 +635,7 @@ EOL;
 
     // Insert the new html into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign($form['content_id'], "innerHTML", $html);
     if ($js) { $response->addScript($js); }
     return($response->getXML());
diff --git a/www/winc/tooltips.inc.php b/www/winc/tooltips.inc.php
index 16ce4ed..649e522 100644
--- a/www/winc/tooltips.inc.php
+++ b/www/winc/tooltips.inc.php
@@ -110,7 +110,7 @@ function ws_tooltips_submit($window_name, $form='') {
     //   2. Update it's content
     //   3. Reposition it
     //   4. Unhide it
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addScript("el('{$form['id']}').style.visibility = 'hidden';");
     $response->addAssign($form['id'], "innerHTML", $html);
     $response->addScript("wwTT_position('{$form['id']}'); el('{$form['id']}').style.visibility = 'visible';");
@@ -172,7 +172,7 @@ EOL;
     if ( $c > 5 ) { $html .= "<br>"; $c=1; }
   }
 
-  $response = new xajaxResponse();
+  $response = new legacyXajaxResponse();
   $response->addAssign($form['updateid'], "innerHTML", $html);
   // set extra width in the table so the delete button looks better
   $response->addScript("tagTdWidth=el('tagname_{$tag['name']}{$tag['id']}').parentNode.parentNode.offsetWidth+8;el('tagname_{$tag['name']}{$tag['id']}').parentNode.parentNode.setAttribute('style','width:'+tagTdWidth+'px');");
@@ -384,7 +384,7 @@ function ws_switch_context($window_name, $form='') {
         $js = "alert('The context \'{$form['context_select']}\' is not valid.');";
     }
 
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addScript($js);
     return($response->getXML());
 }
@@ -505,7 +505,7 @@ function ws_logingo($window_name, $form='') {
         printmsg("INFO => [{$type}] {$_SESSION['ona']['auth']['user']['username']} has logged in via authtype: {$conf['authtype']}",0);
     }
 
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addScript($js);
     return($response->getXML());
 
@@ -1771,13 +1771,13 @@ function ws_interface_share_save($window_name, $form='') {
 
     // Check permissions
     if (! (auth('interface_del')) ) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Validate input
@@ -1822,13 +1822,13 @@ function ws_interface_share_del($window_name, $form='') {
 
     // Check permissions
     if (! (auth('interface_del')) ) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     // Validate input
@@ -2070,7 +2070,7 @@ function ws_interface_nat_save($window_name, $form='') {
 
     // Check permissions
     if (! (auth('interface_modify')) ) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
@@ -2078,7 +2078,7 @@ function ws_interface_nat_save($window_name, $form='') {
     $form = parse_options_string($form);
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     $refresh = "xajax_window_submit('list_interfaces', xajax.getFormValues('list_interfaces_filter_form'), 'display_list');";
@@ -2234,13 +2234,13 @@ function ws_interface_move_save($window_name, $form='') {
 
     // Check permissions
     if (! (auth('advanced')) ) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML());
     }
 
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
 
     $refresh = "xajax_window_submit('list_interfaces', xajax.getFormValues('list_interfaces_filter_form'), 'display_list');";
diff --git a/www/winc/user_edit.inc.php b/www/winc/user_edit.inc.php
index 92d0dbe..a1ba6dd 100644
--- a/www/winc/user_edit.inc.php
+++ b/www/winc/user_edit.inc.php
@@ -17,7 +17,7 @@ function ws_editor($window_name, $form='') {
     
     // Make sure they have permission
     if (!auth('admin')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML()); 
     }
@@ -175,20 +175,20 @@ function ws_save($window_name, $form='') {
     
     // Make sure they have permission
     if (!auth('admin')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML()); 
     }
     
     // Don't allow this in the demo account!
     if ($_SESSION['auth']['client']['url'] == 'demo') {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Feature disabled in this demo!');");
         return($response->getXML()); 
     }
     
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
     
     // Make sure they're logged in
diff --git a/www/winc/user_list.inc.php b/www/winc/user_list.inc.php
index 0111462..7a11f93 100644
--- a/www/winc/user_list.inc.php
+++ b/www/winc/user_list.inc.php
@@ -104,7 +104,7 @@ function ws_display_list($window_name, $form) {
     global $font_family, $color, $style, $images;
     
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     
     // Make sure they're logged in
     if (!loggedIn()) { return($response->getXML()); }
@@ -265,28 +265,28 @@ function ws_delete($window_name, $form='') {
     
     // Make sure they have permission
     if (!auth('admin')) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Permission denied!');");
         return($response->getXML()); 
     }
     
     // Don't allow this in the demo account!
     if ($_SESSION['auth']['client']['url'] == 'demo') {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Feature disabled in this demo!');");
         return($response->getXML()); 
     }
     
     // Don't allow a user to delete their own account!
     if ($_SESSION['auth']['user']['id'] == $form) {
-        $response = new xajaxResponse();
+        $response = new legacyXajaxResponse();
         $response->addScript("alert('Sorry, but you can\\'t delete your own admin account!');");
         return($response->getXML()); 
     }
 
     
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $js = '';
     
     
diff --git a/www/winc/work_space.inc.php b/www/winc/work_space.inc.php
index eb5a80a..b3614ca 100644
--- a/www/winc/work_space.inc.php
+++ b/www/winc/work_space.inc.php
@@ -189,7 +189,7 @@ EOL;
 
     // Insert the new html into the window
     // Instantiate the xajaxResponse object
-    $response = new xajaxResponse();
+    $response = new legacyXajaxResponse();
     $response->addAssign("trace_history", "innerHTML", $html);
     $response->addAssign("work_space_title_r", "innerHTML", $new_buttons);
     $response->addAssign("work_space_title", "innerHTML", $new_title);
